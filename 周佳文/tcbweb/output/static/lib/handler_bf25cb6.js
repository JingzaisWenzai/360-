define("handler",["action"],function(e){var n=document.getElementById("modesMap"),t=document.getElementById("model-map"),o=(document.getElementById("container"),document.getElementById("map_close"));return{handlerData:function(s){function a(n,t){u.forEach(function(o,s){e.createDom();var a=document.getElementsByClassName("shopname"),l=document.getElementsByClassName("store_pic"),m=document.getElementsByClassName("desc"),d=document.getElementsByClassName("addr"),p=document.getElementsByClassName("renqi"),r=document.getElementsByClassName("shop-grade"),y=document.getElementsByClassName("goShop");a[s].innerHTML=u[s].shop_name,l[s].src=u[s].shop_ico,r[s].innerHTML="店铺等级："+u[s].shop_score,m[s].innerHTML="主营:"+u[s].shop_desc,d[s].innerHTML="地址:"+u[s].addr,p[s].innerHTML="人气:"+u[s].shop_visit+"人浏览",y[s].href=u[s].shop_addr,y[s].innerHTML="进入店铺";var f=[];f.push(u[s].map_longitude),f.push(u[s].map_latitude),c.push(f),s>=n&&t>=s&&(document.getElementsByClassName("listItem")[s].style.display="block",i=(t+1)/5)})}function l(e){for(var n=0;n<v.length;n++)v[n].id=" ";c=[],E.innerHTML="",e=e||window.event;var t=e.target||e.srcElement;a(5*parseInt(i)-5,5*parseInt(i)-1),i=parseInt(t.innerHTML),t.id="current_page"}function m(){map.plugin(["AMap.ToolBar"],function(){map.addControl(new AMap.ToolBar)}),c.forEach(function(e,n){var t=new AMap.Marker({position:e,title:u[n].shop_name,map:map}),o=new AMap.InfoWindow({content:"<h3>"+u[n].shop_name+"</h3><div>"+u[n].addr+"</div>",offset:new AMap.Pixel(8,-25)});AMap.event.addListener(t,"click",function(){o.open(map,t.getPosition())})})}for(var i,c=[],u=s.shop_data,d=document.getElementsByClassName("pages")[0],p=Math.ceil(u.length/5),r=0;p>r;r++){var y=document.createElement("span");y.className="choose_page",y.innerHTML=r+1,d.appendChild(y)}var f=document.createElement("span");f.innerHTML="下一页>>",f.className="nextPage",d.appendChild(f),a(0,4);for(var g=function(){return window.addEventListener?function(e,n,t){e.addEventListener(n,t)}:void(window.attachEvent&&elem.attachEvent("on"+type,fn))}(),h=function(e){g(e,"click",l)},E=document.getElementsByClassName("shopList")[0],v=document.getElementsByClassName("choose_page"),B=0;B<v.length;B++)h(v[B]);n.onclick=function(e){e.preventDefault(),m(),t.style.display="block"},o.onclick=function(){t.style.display="none"},map=new AMap.Map("container",{center:[116.397428,39.90923],zoom:10})},splist:function(){var e=document.getElementsByClassName("pngfix")[0],n=document.getElementsByClassName("pngfix")[1],t=document.getElementsByClassName("pngfix")[2],o=document.getElementsByClassName("pngfix")[3],s=document.getElementById("sub-item-xsj"),a=document.getElementById("sub-item-xdn"),l=document.getElementById("sub-item-msj"),m=document.getElementById("sub-item-mes");e.onmouseover=function(){s.style.display="block"},e.onmouseout=function(){s.style.display="none"},n.onmouseover=function(){a.style.display="block"},n.onmouseout=function(){a.style.display="none"},t.onmouseover=function(){l.style.display="block"},t.onmouseout=function(){l.style.display="none"},o.onmouseover=function(){m.style.display="block"},o.onmouseout=function(){m.style.display="none"},s.onmouseover=function(){s.style.display="block"},s.onmouseout=function(){s.style.display="none"},a.onmouseover=function(){a.style.display="block"},a.onmouseout=function(){a.style.display="none"},l.onmouseover=function(){l.style.display="block"},l.onmouseout=function(){l.style.display="none"},m.onmouseover=function(){m.style.display="block"},m.onmouseout=function(){m.style.display="none"}}}});